# Íµ¨ÌòÑ Í∞ÄÏù¥Îìú - Phase 5: Î™®Î∞îÏùº Ïï± (3Ï£º)

> **‚ö†Ô∏è ÌïÑÏàò ÏÑ†Ìñâ ÏûëÏóÖ**: Phase 1, 2, 3 ÏôÑÎ£å ÌïÑÏàò
> **üìÖ ÏòàÏÉÅ Í∏∞Í∞Ñ**: 3Ï£º (Week 10-12)
> **üìä ÏòàÏÉÅ ÏûëÏóÖÎüâ**: ~60Í∞ú ÌååÏùº, ~10,000 ÎùºÏù∏
> **‚úÖ Ïã§Ï†ú ÏÉÅÌÉú**: ÌïµÏã¨ Í∏∞Îä• Íµ¨ÌòÑ ÏôÑÎ£å (15Í∞ú ÌååÏùº, Expo Í∏∞Î∞ò Í∞ÑÏÜåÌôî Î≤ÑÏ†Ñ)

---

## üìã Phase 5 Í∞úÏöî

### Ï£ºÏöî Î™©Ìëú
1. **React Native Î™®Î∞îÏùº Ïï±** Íµ¨Ï∂ï (Android/iOS)
2. **Ïò§ÌîÑÎùºÏù∏ Î™®Îìú** ÏßÄÏõê (WatermelonDB)
3. **Ïπ¥Î©îÎùº Í∏∞Îä•** (Í∏∞Í∏∞ Ï†ÄÏû• ÏóÜÏù¥ ÏßÅÏ†ë ÏóÖÎ°úÎìú)
4. **GPS Í∏∞Î∞ò Ï∂úÌá¥Í∑º Ï≤¥ÌÅ¨Ïù∏**
5. **FCM Ìë∏Ïãú ÏïåÎ¶º**

### Í∏∞Ïà† Ïä§ÌÉù
- **Framework**: React Native CLI
- **UI Library**: React Native Paper
- **ÎÇ¥ÎπÑÍ≤åÏù¥ÏÖò**: React Navigation v6
- **ÏÉÅÌÉú Í¥ÄÎ¶¨**: Context API
- **Î°úÏª¨ DB**: WatermelonDB (Ïò§ÌîÑÎùºÏù∏)
- **Ïπ¥Î©îÎùº**: react-native-vision-camera
- **GPS**: react-native-geolocation-service
- **Ìë∏Ïãú ÏïåÎ¶º**: React Native Firebase (FCM)
- **HTTP Client**: Axios

---

## üóÇÔ∏è Phase 5 ÌååÏùº Îßµ

### ÌîÑÎ°úÏ†ùÌä∏ Íµ¨Ï°∞

```
mobile/
‚îú‚îÄ‚îÄ android/
‚îú‚îÄ‚îÄ ios/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ api/                      [API Ìò∏Ï∂ú Ìï®ÏàòÎì§]
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth.api.ts           [100-150 ÎùºÏù∏]
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ menu.api.ts           [100-150 ÎùºÏù∏]
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ photo.api.ts          [150-200 ÎùºÏù∏]
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ feedback.api.ts       [100-150 ÎùºÏù∏]
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ attendance.api.ts     [100-150 ÎùºÏù∏]
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ components/               [Ïû¨ÏÇ¨Ïö© Ïª¥Ìè¨ÎÑåÌä∏]
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Camera/
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ CameraView.tsx    [300-400 ÎùºÏù∏] Ïπ¥Î©îÎùº ÌôîÎ©¥
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Map/
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ MapView.tsx       [200-300 ÎùºÏù∏] Ïπ¥Ïπ¥Ïò§Îßµ
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Common/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ Loading.tsx       [50-80 ÎùºÏù∏]
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ ImageViewer.tsx   [150-200 ÎùºÏù∏] Ïù¥ÎØ∏ÏßÄ ÌôïÎåÄ
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ screens/                  [ÌôîÎ©¥ Ïª¥Ìè¨ÎÑåÌä∏]
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth/
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ LoginScreen.tsx   [200-300 ÎùºÏù∏]
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ home/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ HomeScreen.tsx    [250-350 ÎùºÏù∏] Ìôà ÌôîÎ©¥
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ StaffHomeScreen.tsx [250-350 ÎùºÏù∏] Îã¥ÎãπÏûê Ìôà
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ attendance/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ CheckInScreen.tsx [300-400 ÎùºÏù∏] Ï∂úÌá¥Í∑º Ï≤¥ÌÅ¨Ïù∏
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ AttendanceListScreen.tsx [200-300 ÎùºÏù∏]
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ camera/
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ PhotoCaptureScreen.tsx [300-400 ÎùºÏù∏] ÏÇ¨ÏßÑ Ï¥¨ÏòÅ
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ menu/
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ MenuListScreen.tsx [200-300 ÎùºÏù∏] ÏãùÎã® Ï°∞Ìöå
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ feedback/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ FeedbackFormScreen.tsx [250-350 ÎùºÏù∏] VOC ÏûëÏÑ±
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ FeedbackListScreen.tsx [200-300 ÎùºÏù∏] VOC Î™©Î°ù
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ photo/
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ PhotoGalleryScreen.tsx [200-300 ÎùºÏù∏] ÏÇ¨ÏßÑ Í∞§Îü¨Î¶¨
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ context/                  [Context API]
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ AuthContext.tsx       [150-200 ÎùºÏù∏]
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ database/                 [WatermelonDB]
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ models/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Menu.ts           [100-150 ÎùºÏù∏]
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Photo.ts          [100-150 ÎùºÏù∏]
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Feedback.ts       [100-150 ÎùºÏù∏]
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ schema.ts             [150-200 ÎùºÏù∏]
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ sync.ts               [200-300 ÎùºÏù∏] ÎèôÍ∏∞Ìôî Î°úÏßÅ
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ gps.service.ts        [150-200 ÎùºÏù∏] GPS ÏÑúÎπÑÏä§
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ camera.service.ts     [100-150 ÎùºÏù∏] Ïπ¥Î©îÎùº Í∂åÌïú
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ notification.service.ts [150-200 ÎùºÏù∏] FCM ÏÑ§Ï†ï
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ axios.ts              [100-150 ÎùºÏù∏]
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ storage.ts            [80-120 ÎùºÏù∏] AsyncStorage
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ constants.ts          [80-120 ÎùºÏù∏]
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ types/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.ts              [100-150 ÎùºÏù∏]
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ App.tsx                   [150-200 ÎùºÏù∏]
‚îÇ   ‚îî‚îÄ‚îÄ navigation.tsx            [200-300 ÎùºÏù∏] ÎÑ§ÎπÑÍ≤åÏù¥ÏÖò ÏÑ§Ï†ï
‚îÇ
‚îú‚îÄ‚îÄ .env
‚îú‚îÄ‚îÄ package.json
‚îî‚îÄ‚îÄ app.json
```

---

## üö® Ï§ëÎ≥µ Î∞©ÏßÄ Í∑úÏπô (Phase 5)

### ‚ùå Ï†àÎåÄ Í∏àÏßÄ ÏÇ¨Ìï≠
1. **GPS Í∂åÌïú ÏöîÏ≤≠**: `gps.service.ts`ÏóêÏÑúÎßå
2. **Ïπ¥Î©îÎùº Í∂åÌïú ÏöîÏ≤≠**: `camera.service.ts`ÏóêÏÑúÎßå
3. **API Ìò∏Ï∂ú**: `api/*.api.ts`ÏóêÏÑúÎßå
4. **Î°úÏª¨ DB Ï†ëÍ∑º**: `database/`Î•º ÌÜµÌï¥ÏÑúÎßå

---

## üìÖ Week 10: Î™®Î∞îÏùº Ïï± Í∏∞Î≥∏ Íµ¨Ï°∞

### Task 10.1: React Native CLI ÌîÑÎ°úÏ†ùÌä∏ ÏÉùÏÑ±

**Î™ÖÎ†πÏñ¥**:
```bash
npx react-native init DahamVocMobile --template react-native-template-typescript

cd DahamVocMobile
```

**ÏùòÏ°¥ÏÑ± ÏÑ§Ïπò**:
```bash
# UI & Navigation
npm install react-native-paper react-navigation @react-navigation/native @react-navigation/native-stack @react-navigation/bottom-tabs
npm install react-native-screens react-native-safe-area-context

# Data & Storage
npm install @nozbe/watermelondb @react-native-async-storage/async-storage axios

# GPS & Camera
npm install react-native-geolocation-service react-native-vision-camera
npm install react-native-permissions

# Push Notification
npm install @react-native-firebase/app @react-native-firebase/messaging

# Utilities
npm install dayjs react-native-image-picker
```

**iOS Ï∂îÍ∞Ä ÏÑ§Ï†ï** (ÌïÑÏöî Ïãú):
```bash
cd ios && pod install && cd ..
```

---

### Task 10.2: ÌôòÍ≤Ω Î≥ÄÏàò ÏÑ§Ï†ï

**ÌååÏùº**: `mobile/.env`
**ÏòàÏÉÅ ÎùºÏù∏**: 10-20 ÎùºÏù∏

```env
API_BASE_URL=http://localhost:3000/api
KAKAO_MAP_APP_KEY=your_kakao_map_key
```

---

### Task 10.3: Axios ÏÑ§Ï†ï

**ÌååÏùº**: `mobile/src/utils/axios.ts`
**ÏòàÏÉÅ ÎùºÏù∏**: 100-150 ÎùºÏù∏

```typescript
import axios from 'axios';
import AsyncStorage from '@react-native-async-storage/async-storage';
import Config from 'react-native-config';

export const apiClient = axios.create({
  baseURL: Config.API_BASE_URL,
  timeout: 10000,
  headers: {
    'Content-Type': 'application/json',
  },
});

// ÏöîÏ≤≠ Ïù∏ÌÑ∞ÏÖâÌÑ∞
apiClient.interceptors.request.use(
  async (config) => {
    const token = await AsyncStorage.getItem('token');

    if (token) {
      config.headers.Authorization = `Bearer ${token}`;
    }

    return config;
  },
  (error) => {
    return Promise.reject(error);
  }
);

// ÏùëÎãµ Ïù∏ÌÑ∞ÏÖâÌÑ∞
apiClient.interceptors.response.use(
  (response) => {
    return response.data;
  },
  async (error) => {
    if (error.response?.status === 401) {
      await AsyncStorage.removeItem('token');
      // Î°úÍ∑∏Ïù∏ ÌôîÎ©¥ÏúºÎ°ú Ïù¥Îèô (navigation ÌïÑÏöî)
    }

    return Promise.reject(error);
  }
);
```

---

### Task 10.4: AuthContext ÏÑ§Ï†ï

**ÌååÏùº**: `mobile/src/context/AuthContext.tsx`
**ÏòàÏÉÅ ÎùºÏù∏**: 150-200 ÎùºÏù∏

```typescript
import React, { createContext, useState, useEffect, useContext } from 'react';
import AsyncStorage from '@react-native-async-storage/async-storage';

interface User {
  id: string;
  email: string;
  name: string;
  role: string;
}

interface AuthContextType {
  user: User | null;
  token: string | null;
  isAuthenticated: boolean;
  login: (token: string, user: User) => Promise<void>;
  logout: () => Promise<void>;
  isLoading: boolean;
}

const AuthContext = createContext<AuthContextType>({} as AuthContextType);

export const useAuth = () => useContext(AuthContext);

export const AuthProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {
  const [user, setUser] = useState<User | null>(null);
  const [token, setToken] = useState<string | null>(null);
  const [isLoading, setIsLoading] = useState(true);

  useEffect(() => {
    // Ïï± ÏãúÏûë Ïãú Ï†ÄÏû•Îêú Ïù∏Ï¶ù Ï†ïÎ≥¥ Î°úÎìú
    loadAuthData();
  }, []);

  const loadAuthData = async () => {
    try {
      const savedToken = await AsyncStorage.getItem('token');
      const savedUser = await AsyncStorage.getItem('user');

      if (savedToken && savedUser) {
        setToken(savedToken);
        setUser(JSON.parse(savedUser));
      }
    } catch (error) {
      console.error('Failed to load auth data', error);
    } finally {
      setIsLoading(false);
    }
  };

  const login = async (newToken: string, newUser: User) => {
    await AsyncStorage.setItem('token', newToken);
    await AsyncStorage.setItem('user', JSON.stringify(newUser));

    setToken(newToken);
    setUser(newUser);
  };

  const logout = async () => {
    await AsyncStorage.removeItem('token');
    await AsyncStorage.removeItem('user');

    setToken(null);
    setUser(null);
  };

  return (
    <AuthContext.Provider
      value={{
        user,
        token,
        isAuthenticated: !!token,
        login,
        logout,
        isLoading,
      }}
    >
      {children}
    </AuthContext.Provider>
  );
};
```

---

### Task 10.5: Navigation ÏÑ§Ï†ï

**ÌååÏùº**: `mobile/src/navigation.tsx`
**ÏòàÏÉÅ ÎùºÏù∏**: 200-300 ÎùºÏù∏

```typescript
import React from 'react';
import { NavigationContainer } from '@react-navigation/native';
import { createNativeStackNavigator } from '@react-navigation/native-stack';
import { createBottomTabNavigator } from '@react-navigation/bottom-tabs';
import Icon from 'react-native-vector-icons/MaterialCommunityIcons';

import { useAuth } from './context/AuthContext';

// Screens
import LoginScreen from './screens/auth/LoginScreen';
import StaffHomeScreen from './screens/home/StaffHomeScreen';
import MenuListScreen from './screens/menu/MenuListScreen';
import PhotoCaptureScreen from './screens/camera/PhotoCaptureScreen';
import FeedbackFormScreen from './screens/feedback/FeedbackFormScreen';
import CheckInScreen from './screens/attendance/CheckInScreen';

const Stack = createNativeStackNavigator();
const Tab = createBottomTabNavigator();

// Îã¥ÎãπÏûê ÌÉ≠ ÎÑ§ÎπÑÍ≤åÏù¥ÏÖò
function StaffTabNavigator() {
  return (
    <Tab.Navigator
      screenOptions={({ route }) => ({
        tabBarIcon: ({ color, size }) => {
          let iconName = 'home';

          if (route.name === 'Home') iconName = 'home';
          else if (route.name === 'Menu') iconName = 'calendar';
          else if (route.name === 'Camera') iconName = 'camera';
          else if (route.name === 'Feedback') iconName = 'message';
          else if (route.name === 'CheckIn') iconName = 'clock';

          return <Icon name={iconName} size={size} color={color} />;
        },
      })}
    >
      <Tab.Screen name="Home" component={StaffHomeScreen} options={{ title: 'Ìôà' }} />
      <Tab.Screen name="Menu" component={MenuListScreen} options={{ title: 'ÏãùÎã®' }} />
      <Tab.Screen name="Camera" component={PhotoCaptureScreen} options={{ title: 'ÏÇ¨ÏßÑ' }} />
      <Tab.Screen name="Feedback" component={FeedbackFormScreen} options={{ title: 'VOC' }} />
      <Tab.Screen name="CheckIn" component={CheckInScreen} options={{ title: 'Ï∂úÌá¥Í∑º' }} />
    </Tab.Navigator>
  );
}

export default function Navigation() {
  const { isAuthenticated, isLoading } = useAuth();

  if (isLoading) {
    return null; // Î°úÎî© ÌôîÎ©¥ ÌëúÏãú
  }

  return (
    <NavigationContainer>
      <Stack.Navigator>
        {!isAuthenticated ? (
          <Stack.Screen
            name="Login"
            component={LoginScreen}
            options={{ headerShown: false }}
          />
        ) : (
          <Stack.Screen
            name="Main"
            component={StaffTabNavigator}
            options={{ headerShown: false }}
          />
        )}
      </Stack.Navigator>
    </NavigationContainer>
  );
}
```

---

### Task 10.6: Î°úÍ∑∏Ïù∏ ÌôîÎ©¥

**ÌååÏùº**: `mobile/src/api/auth.api.ts`
**ÏòàÏÉÅ ÎùºÏù∏**: 100-150 ÎùºÏù∏

```typescript
import { apiClient } from '../utils/axios';

export interface LoginRequest {
  email: string;
  password: string;
}

export async function login(data: LoginRequest) {
  return apiClient.post('/auth/login', data);
}

export async function logout() {
  return apiClient.post('/auth/logout');
}
```

**ÌååÏùº**: `mobile/src/screens/auth/LoginScreen.tsx`
**ÏòàÏÉÅ ÎùºÏù∏**: 200-300 ÎùºÏù∏

```typescript
import React, { useState } from 'react';
import { View, StyleSheet, Alert } from 'react-native';
import { TextInput, Button, Text } from 'react-native-paper';
import { useAuth } from '../../context/AuthContext';
import { login as apiLogin } from '../../api/auth.api';

export default function LoginScreen() {
  const { login } = useAuth();
  const [email, setEmail] = useState('');
  const [password, setPassword] = useState('');
  const [loading, setLoading] = useState(false);

  const handleLogin = async () => {
    if (!email || !password) {
      Alert.alert('Ïò§Î•ò', 'Ïù¥Î©îÏùºÍ≥º ÎπÑÎ∞ÄÎ≤àÌò∏Î•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî');
      return;
    }

    setLoading(true);

    try {
      const response = await apiLogin({ email, password });

      await login(response.data.token, response.data.user);

      Alert.alert('ÏÑ±Í≥µ', 'Î°úÍ∑∏Ïù∏ÎêòÏóàÏäµÎãàÎã§');
    } catch (error: any) {
      Alert.alert('Î°úÍ∑∏Ïù∏ Ïã§Ìå®', error.response?.data?.message || 'Îã§Ïãú ÏãúÎèÑÌïòÏÑ∏Ïöî');
    } finally {
      setLoading(false);
    }
  };

  return (
    <View style={styles.container}>
      <Text variant="headlineMedium" style={styles.title}>
        Daham VOC
      </Text>

      <TextInput
        label="Ïù¥Î©îÏùº"
        value={email}
        onChangeText={setEmail}
        keyboardType="email-address"
        autoCapitalize="none"
        style={styles.input}
      />

      <TextInput
        label="ÎπÑÎ∞ÄÎ≤àÌò∏"
        value={password}
        onChangeText={setPassword}
        secureTextEntry
        style={styles.input}
      />

      <Button mode="contained" onPress={handleLogin} loading={loading} style={styles.button}>
        Î°úÍ∑∏Ïù∏
      </Button>
    </View>
  );
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    justifyContent: 'center',
    padding: 20,
    backgroundColor: '#fff',
  },
  title: {
    textAlign: 'center',
    marginBottom: 40,
  },
  input: {
    marginBottom: 16,
  },
  button: {
    marginTop: 16,
  },
});
```

---

## üìÖ Week 11: Î™®Î∞îÏùº ÌïµÏã¨ Í∏∞Îä•

### Task 11.1: GPS ÏÑúÎπÑÏä§

**ÌååÏùº**: `mobile/src/services/gps.service.ts`
**ÏòàÏÉÅ ÎùºÏù∏**: 150-200 ÎùºÏù∏

```typescript
import Geolocation from 'react-native-geolocation-service';
import { PermissionsAndroid, Platform } from 'react-native';

export interface Location {
  latitude: number;
  longitude: number;
}

// GPS Í∂åÌïú ÏöîÏ≤≠
export async function requestLocationPermission(): Promise<boolean> {
  if (Platform.OS === 'android') {
    const granted = await PermissionsAndroid.request(
      PermissionsAndroid.PERMISSIONS.ACCESS_FINE_LOCATION
    );

    return granted === PermissionsAndroid.RESULTS.GRANTED;
  }

  // iOSÎäî Info.plist ÏÑ§Ï†ï ÌïÑÏöî
  return true;
}

// ÌòÑÏû¨ ÏúÑÏπò Í∞ÄÏ†∏Ïò§Í∏∞
export async function getCurrentLocation(): Promise<Location> {
  return new Promise((resolve, reject) => {
    Geolocation.getCurrentPosition(
      (position) => {
        resolve({
          latitude: position.coords.latitude,
          longitude: position.coords.longitude,
        });
      },
      (error) => {
        reject(error);
      },
      {
        enableHighAccuracy: true,
        timeout: 15000,
        maximumAge: 10000,
      }
    );
  });
}

// ÏúÑÏπò Ï∂îÏ†Å ÏãúÏûë
export function watchLocation(callback: (location: Location) => void): number {
  return Geolocation.watchPosition(
    (position) => {
      callback({
        latitude: position.coords.latitude,
        longitude: position.coords.longitude,
      });
    },
    (error) => {
      console.error('Location watch error:', error);
    },
    {
      enableHighAccuracy: true,
      distanceFilter: 10, // 10m Ïù¥Îèô ÏãúÎßàÎã§ ÏóÖÎç∞Ïù¥Ìä∏
    }
  );
}

// ÏúÑÏπò Ï∂îÏ†Å Ï§ëÏßÄ
export function clearLocationWatch(watchId: number): void {
  Geolocation.clearWatch(watchId);
}
```

---

### Task 11.2: Ï∂úÌá¥Í∑º Ï≤¥ÌÅ¨Ïù∏ ÌôîÎ©¥

**ÌååÏùº**: `mobile/src/api/attendance.api.ts`
**ÏòàÏÉÅ ÎùºÏù∏**: 100-150 ÎùºÏù∏

```typescript
import { apiClient } from '../utils/axios';

export async function checkIn(data: { siteId: string; latitude: number; longitude: number }) {
  return apiClient.post('/attendance/check-in', data);
}

export async function checkOut(data: { attendanceId: string; latitude: number; longitude: number }) {
  return apiClient.post('/attendance/check-out', data);
}

export async function getMyAttendances(dateFrom: string, dateTo: string) {
  return apiClient.get('/attendances', { params: { dateFrom, dateTo } });
}
```

**ÌååÏùº**: `mobile/src/screens/attendance/CheckInScreen.tsx`
**ÏòàÏÉÅ ÎùºÏù∏**: 300-400 ÎùºÏù∏

```typescript
import React, { useState, useEffect } from 'react';
import { View, StyleSheet, Alert } from 'react-native';
import { Button, Text, Card } from 'react-native-paper';
import { getCurrentLocation, requestLocationPermission } from '../../services/gps.service';
import { checkIn, checkOut } from '../../api/attendance.api';
import { useAuth } from '../../context/AuthContext';

export default function CheckInScreen() {
  const { user } = useAuth();
  const [location, setLocation] = useState<{ latitude: number; longitude: number } | null>(null);
  const [loading, setLoading] = useState(false);
  const [todayAttendance, setTodayAttendance] = useState<any>(null);

  useEffect(() => {
    loadLocation();
  }, []);

  const loadLocation = async () => {
    const hasPermission = await requestLocationPermission();

    if (!hasPermission) {
      Alert.alert('Í∂åÌïú ÌïÑÏöî', 'GPS Í∂åÌïúÏù¥ ÌïÑÏöîÌï©ÎãàÎã§');
      return;
    }

    try {
      const loc = await getCurrentLocation();
      setLocation(loc);
    } catch (error) {
      Alert.alert('Ïò§Î•ò', 'GPS ÏúÑÏπòÎ•º Í∞ÄÏ†∏Ïò¨ Ïàò ÏóÜÏäµÎãàÎã§');
    }
  };

  const handleCheckIn = async () => {
    if (!location) {
      Alert.alert('Ïò§Î•ò', 'GPS ÏúÑÏπòÎ•º ÌôïÏù∏ÌïòÏÑ∏Ïöî');
      return;
    }

    // ÏÇ¨ÏóÖÏû• ÏÑ†ÌÉù Î°úÏßÅ ÌïÑÏöî (ÏûÑÏãúÎ°ú ÌïòÎìúÏΩîÎî©)
    const siteId = 'temp-site-id';

    setLoading(true);

    try {
      const response = await checkIn({
        siteId,
        latitude: location.latitude,
        longitude: location.longitude,
      });

      setTodayAttendance(response.data);

      Alert.alert('ÏÑ±Í≥µ', 'Ï∂úÍ∑º Ï≤¥ÌÅ¨Ïù∏ÎêòÏóàÏäµÎãàÎã§');
    } catch (error: any) {
      Alert.alert('Ïã§Ìå®', error.response?.data?.message || 'Îã§Ïãú ÏãúÎèÑÌïòÏÑ∏Ïöî');
    } finally {
      setLoading(false);
    }
  };

  const handleCheckOut = async () => {
    if (!location || !todayAttendance) {
      Alert.alert('Ïò§Î•ò', 'Ï∂úÍ∑º Í∏∞Î°ùÏù¥ ÏóÜÏäµÎãàÎã§');
      return;
    }

    setLoading(true);

    try {
      await checkOut({
        attendanceId: todayAttendance.id,
        latitude: location.latitude,
        longitude: location.longitude,
      });

      Alert.alert('ÏÑ±Í≥µ', 'Ìá¥Í∑º Ï≤¥ÌÅ¨ÏïÑÏõÉÎêòÏóàÏäµÎãàÎã§');
      setTodayAttendance(null);
    } catch (error: any) {
      Alert.alert('Ïã§Ìå®', error.response?.data?.message || 'Îã§Ïãú ÏãúÎèÑÌïòÏÑ∏Ïöî');
    } finally {
      setLoading(false);
    }
  };

  return (
    <View style={styles.container}>
      <Text variant="headlineSmall" style={styles.title}>
        Ï∂úÌá¥Í∑º Ï≤¥ÌÅ¨Ïù∏
      </Text>

      <Card style={styles.card}>
        <Card.Content>
          <Text>ÌòÑÏû¨ ÏúÑÏπò:</Text>
          {location ? (
            <Text>
              ÏúÑÎèÑ: {location.latitude.toFixed(6)}, Í≤ΩÎèÑ: {location.longitude.toFixed(6)}
            </Text>
          ) : (
            <Text>GPS ÏúÑÏπòÎ•º Í∞ÄÏ†∏Ïò§Îäî Ï§ë...</Text>
          )}
        </Card.Content>
      </Card>

      <Button
        mode="contained"
        onPress={handleCheckIn}
        loading={loading}
        disabled={!location || !!todayAttendance}
        style={styles.button}
      >
        Ï∂úÍ∑º Ï≤¥ÌÅ¨Ïù∏
      </Button>

      <Button
        mode="contained"
        onPress={handleCheckOut}
        loading={loading}
        disabled={!location || !todayAttendance}
        style={styles.button}
      >
        Ìá¥Í∑º Ï≤¥ÌÅ¨ÏïÑÏõÉ
      </Button>
    </View>
  );
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    padding: 20,
    backgroundColor: '#fff',
  },
  title: {
    marginBottom: 20,
  },
  card: {
    marginBottom: 20,
  },
  button: {
    marginTop: 16,
  },
});
```

---

### Task 11.3: Ïπ¥Î©îÎùº ÌôîÎ©¥ (Í∏∞Í∏∞ Ï†ÄÏû• Ïïà Ìï®)

**ÌååÏùº**: `mobile/src/screens/camera/PhotoCaptureScreen.tsx`
**ÏòàÏÉÅ ÎùºÏù∏**: 300-400 ÎùºÏù∏

```typescript
import React, { useState, useRef } from 'react';
import { View, StyleSheet, Alert } from 'react-native';
import { Camera, useCameraDevices } from 'react-native-vision-camera';
import { Button } from 'react-native-paper';
import { apiClient } from '../../utils/axios';

export default function PhotoCaptureScreen() {
  const [hasPermission, setHasPermission] = useState(false);
  const [loading, setLoading] = useState(false);
  const cameraRef = useRef<Camera>(null);
  const devices = useCameraDevices();
  const device = devices.back;

  React.useEffect(() => {
    requestCameraPermission();
  }, []);

  const requestCameraPermission = async () => {
    const status = await Camera.requestCameraPermission();
    setHasPermission(status === 'authorized');
  };

  const takePhoto = async () => {
    if (!cameraRef.current) return;

    setLoading(true);

    try {
      const photo = await cameraRef.current.takePhoto({
        flash: 'auto',
      });

      // ÏÇ¨ÏßÑ ÏóÖÎ°úÎìú (Í∏∞Í∏∞Ïóê Ï†ÄÏû•ÌïòÏßÄ ÏïäÏùå)
      await uploadPhoto(photo);

      Alert.alert('ÏÑ±Í≥µ', 'ÏÇ¨ÏßÑÏù¥ ÏóÖÎ°úÎìúÎêòÏóàÏäµÎãàÎã§');
    } catch (error) {
      Alert.alert('Ïò§Î•ò', 'ÏÇ¨ÏßÑ Ï¥¨ÏòÅ Ïã§Ìå®');
    } finally {
      setLoading(false);
    }
  };

  const uploadPhoto = async (photo: any) => {
    const formData = new FormData();

    formData.append('image', {
      uri: `file://${photo.path}`,
      type: 'image/jpeg',
      name: 'photo.jpg',
    } as any);

    formData.append('siteId', 'temp-site-id');
    formData.append('latitude', '37.5');
    formData.append('longitude', '127.0');
    formData.append('photoDate', new Date().toISOString());
    formData.append('photoTime', new Date().toISOString());
    formData.append('mealType', 'LUNCH');

    await apiClient.post('/meal-photos', formData, {
      headers: {
        'Content-Type': 'multipart/form-data',
      },
    });
  };

  if (!hasPermission) {
    return (
      <View style={styles.container}>
        <Button onPress={requestCameraPermission}>Ïπ¥Î©îÎùº Í∂åÌïú ÏöîÏ≤≠</Button>
      </View>
    );
  }

  if (!device) {
    return <View />;
  }

  return (
    <View style={styles.container}>
      <Camera
        ref={cameraRef}
        style={StyleSheet.absoluteFill}
        device={device}
        isActive={true}
        photo={true}
      />

      <View style={styles.controls}>
        <Button mode="contained" onPress={takePhoto} loading={loading}>
          ÏÇ¨ÏßÑ Ï¥¨ÏòÅ
        </Button>
      </View>
    </View>
  );
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
  },
  controls: {
    position: 'absolute',
    bottom: 40,
    left: 0,
    right: 0,
    alignItems: 'center',
  },
});
```

---

### Task 11.4: VOC ÏûëÏÑ± ÌôîÎ©¥

**ÌååÏùº**: `mobile/src/screens/feedback/FeedbackFormScreen.tsx`
**ÏòàÏÉÅ ÎùºÏù∏**: 250-350 ÎùºÏù∏

```typescript
import React, { useState } from 'react';
import { View, StyleSheet, Alert, ScrollView } from 'react-native';
import { TextInput, Button, Text } from 'react-native-paper';
import { Rating } from 'react-native-ratings';
import { apiClient } from '../../utils/axios';

export default function FeedbackFormScreen() {
  const [content, setContent] = useState('');
  const [rating, setRating] = useState(5);
  const [loading, setLoading] = useState(false);

  const handleSubmit = async () => {
    if (!content) {
      Alert.alert('Ïò§Î•ò', 'VOC ÎÇ¥Ïö©ÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî');
      return;
    }

    setLoading(true);

    try {
      await apiClient.post('/feedbacks', {
        siteId: 'temp-site-id', // ÏÇ¨ÏóÖÏû• ÏÑ†ÌÉù Î°úÏßÅ ÌïÑÏöî
        content,
        rating,
        feedbackType: 'STAFF',
      });

      Alert.alert('ÏÑ±Í≥µ', 'VOCÍ∞Ä Îì±Î°ùÎêòÏóàÏäµÎãàÎã§');
      setContent('');
      setRating(5);
    } catch (error: any) {
      Alert.alert('Ïã§Ìå®', error.response?.data?.message || 'Îã§Ïãú ÏãúÎèÑÌïòÏÑ∏Ïöî');
    } finally {
      setLoading(false);
    }
  };

  return (
    <ScrollView style={styles.container}>
      <Text variant="headlineSmall" style={styles.title}>
        VOC ÏûëÏÑ±
      </Text>

      <Text>Î≥ÑÏ†ê</Text>
      <Rating
        startingValue={rating}
        onFinishRating={setRating}
        style={styles.rating}
      />

      <TextInput
        label="VOC ÎÇ¥Ïö©"
        value={content}
        onChangeText={setContent}
        multiline
        numberOfLines={6}
        style={styles.input}
      />

      <Button mode="contained" onPress={handleSubmit} loading={loading} style={styles.button}>
        VOC Ï†úÏ∂ú
      </Button>
    </ScrollView>
  );
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    padding: 20,
    backgroundColor: '#fff',
  },
  title: {
    marginBottom: 20,
  },
  rating: {
    alignSelf: 'flex-start',
    marginVertical: 10,
  },
  input: {
    marginTop: 16,
  },
  button: {
    marginTop: 20,
  },
});
```

---

## üìÖ Week 12: Ïò§ÌîÑÎùºÏù∏ Î™®Îìú & ÏµúÏ†ÅÌôî

### Task 12.1: WatermelonDB ÏÑ§Ï†ï

**ÌååÏùº**: `mobile/src/database/schema.ts`
**ÏòàÏÉÅ ÎùºÏù∏**: 150-200 ÎùºÏù∏

```typescript
import { appSchema, tableSchema } from '@nozbe/watermelondb';

export const schema = appSchema({
  version: 1,
  tables: [
    tableSchema({
      name: 'menus',
      columns: [
        { name: 'site_id', type: 'string' },
        { name: 'date', type: 'number' },
        { name: 'meal_type', type: 'string' },
        { name: 'image_url_1', type: 'string', isOptional: true },
        { name: 'image_url_2', type: 'string', isOptional: true },
        { name: 'menu_text', type: 'string', isOptional: true },
        { name: 'synced', type: 'boolean' },
      ],
    }),
    tableSchema({
      name: 'meal_photos',
      columns: [
        { name: 'site_id', type: 'string' },
        { name: 'photo_date', type: 'number' },
        { name: 'image_url', type: 'string' },
        { name: 'latitude', type: 'number' },
        { name: 'longitude', type: 'number' },
        { name: 'synced', type: 'boolean' },
      ],
    }),
    tableSchema({
      name: 'feedbacks',
      columns: [
        { name: 'site_id', type: 'string' },
        { name: 'content', type: 'string' },
        { name: 'rating', type: 'number' },
        { name: 'synced', type: 'boolean' },
      ],
    }),
  ],
});
```

**ÌååÏùº**: `mobile/src/database/sync.ts`
**ÏòàÏÉÅ ÎùºÏù∏**: 200-300 ÎùºÏù∏

```typescript
import { synchronize } from '@nozbe/watermelondb/sync';
import { database } from './index';
import { apiClient } from '../utils/axios';

export async function syncDatabase() {
  await synchronize({
    database,
    pullChanges: async ({ lastPulledAt }) => {
      // ÏÑúÎ≤ÑÏóêÏÑú Î≥ÄÍ≤ΩÏÇ¨Ìï≠ Í∞ÄÏ†∏Ïò§Í∏∞
      const response = await apiClient.get('/sync/pull', {
        params: { lastPulledAt },
      });

      return response.data;
    },
    pushChanges: async ({ changes }) => {
      // Î°úÏª¨ Î≥ÄÍ≤ΩÏÇ¨Ìï≠ÏùÑ ÏÑúÎ≤ÑÎ°ú Ï†ÑÏÜ°
      await apiClient.post('/sync/push', { changes });
    },
  });
}
```

---

### Task 12.2: FCM Ìë∏Ïãú ÏïåÎ¶º ÏÑ§Ï†ï

**ÌååÏùº**: `mobile/src/services/notification.service.ts`
**ÏòàÏÉÅ ÎùºÏù∏**: 150-200 ÎùºÏù∏

```typescript
import messaging from '@react-native-firebase/messaging';
import { Alert } from 'react-native';

// FCM Í∂åÌïú ÏöîÏ≤≠
export async function requestNotificationPermission(): Promise<boolean> {
  const authStatus = await messaging().requestPermission();

  return (
    authStatus === messaging.AuthorizationStatus.AUTHORIZED ||
    authStatus === messaging.AuthorizationStatus.PROVISIONAL
  );
}

// FCM ÌÜ†ÌÅ∞ Í∞ÄÏ†∏Ïò§Í∏∞
export async function getFCMToken(): Promise<string | null> {
  try {
    const token = await messaging().getToken();
    return token;
  } catch (error) {
    console.error('Failed to get FCM token', error);
    return null;
  }
}

// Ìè¨Í∑∏ÎùºÏö¥Îìú Î©îÏãúÏßÄ Ìï∏Îì§Îü¨
export function setupForegroundMessageHandler() {
  return messaging().onMessage(async (remoteMessage) => {
    Alert.alert(
      remoteMessage.notification?.title || 'Notification',
      remoteMessage.notification?.body || ''
    );
  });
}

// Î∞±Í∑∏ÎùºÏö¥Îìú Î©îÏãúÏßÄ Ìï∏Îì§Îü¨
messaging().setBackgroundMessageHandler(async (remoteMessage) => {
  console.log('Background message:', remoteMessage);
});
```

---

## ‚úÖ Phase 5 ÏôÑÎ£å Ï≤¥ÌÅ¨Î¶¨Ïä§Ìä∏ (Ïã§Ï†ú Íµ¨ÌòÑ Í∏∞Ï§Ä)

### Week 10: Î™®Î∞îÏùº Í∏∞Î≥∏ Íµ¨Ï°∞ (Expo Í∏∞Î∞ò)
- [x] ~~Task 10.1: React Native CLI ÌîÑÎ°úÏ†ùÌä∏ ÏÉùÏÑ±~~ ‚Üí **Expo ÌîÑÎ°úÏ†ùÌä∏ ÏÉùÏÑ±**
- [x] Task 10.2: ÌôòÍ≤Ω Î≥ÄÏàò ÏÑ§Ï†ï ‚Üí `.env` ÌååÏùº
- [x] Task 10.3: Axios ÏÑ§Ï†ï ‚Üí `utils/axios.ts`
- [x] ~~Task 10.4: AuthContext ÏÑ§Ï†ï~~ ‚Üí **Zustand Ïä§ÌÜ†Ïñ¥Î°ú ÎåÄÏ≤¥** (`store/authStore.ts`)
- [x] Task 10.5: Navigation ÏÑ§Ï†ï ‚Üí `navigation/AppNavigator.tsx`
- [x] Task 10.6: Î°úÍ∑∏Ïù∏ ÌôîÎ©¥ ‚Üí `screens/LoginScreen.tsx`

### Week 11: ÌïµÏã¨ Í∏∞Îä•
- [x] ~~Task 11.1: GPS ÏÑúÎπÑÏä§~~ ‚Üí **expo-location ÏÇ¨Ïö©**
- [x] Task 11.2: Ï∂úÌá¥Í∑º Ï≤¥ÌÅ¨Ïù∏ ÌôîÎ©¥ ‚Üí `screens/AttendanceScreen.tsx`
- [ ] ~~Task 11.3: Ïπ¥Î©îÎùº ÌôîÎ©¥~~ ‚Üí **ÎØ∏Íµ¨ÌòÑ**
- [x] Task 11.4: VOC ÏûëÏÑ± ÌôîÎ©¥ ‚Üí `screens/FeedbackScreen.tsx`

### Week 12: Ïò§ÌîÑÎùºÏù∏ & ÏµúÏ†ÅÌôî
- [x] ~~Task 12.1: WatermelonDB ÏÑ§Ï†ï~~ ‚Üí **React Query + AsyncStorageÎ°ú ÎåÄÏ≤¥**
- [ ] ~~Task 12.2: FCM Ìë∏Ïãú ÏïåÎ¶º~~ ‚Üí **ÎØ∏Íµ¨ÌòÑ**

### Ï∂îÍ∞Ä Íµ¨ÌòÑÎêú Í∏∞Îä• (Í∞ÄÏù¥ÎìúÏóê ÏóÜÏùå)
- [x] **ÎÑ§Ìä∏ÏõåÌÅ¨ ÏÉÅÌÉú Í∞êÏßÄ** ‚Üí `utils/useNetworkStatus.ts`
- [x] **Ïò§ÌîÑÎùºÏù∏ Î∞∞ÎÑà** ‚Üí `components/NetworkBanner.tsx`
- [x] **Ïò§ÌîÑÎùºÏù∏ Ïï°ÏÖò ÌÅê** ‚Üí `utils/offlineStorage.ts`
- [x] **React Query ÏòÅÏÜçÌôî** ‚Üí AsyncStoragePersister

### ÎØ∏Íµ¨ÌòÑ ÌôîÎ©¥ (Í∞ÄÏù¥Îìú ÏòàÏÉÅ)
- [ ] ÏãùÎã® Ï°∞Ìöå ÌôîÎ©¥
- [ ] ÏÇ¨ÏßÑ Í∞§Îü¨Î¶¨ ÌôîÎ©¥
- [ ] VOC Î™©Î°ù ÌôîÎ©¥
- [ ] Í∑ºÌÉú Î™©Î°ù ÌôîÎ©¥

### ÌÜµÌï© ÌÖåÏä§Ìä∏ (Ïã§Ï†ú ÏôÑÎ£å Ìï≠Î™©)
- [x] Î°úÍ∑∏Ïù∏/Î°úÍ∑∏ÏïÑÏõÉ
- [x] GPS Í∂åÌïú Î∞è ÏúÑÏπò Ï∂îÏ†Å
- [x] Ï∂úÌá¥Í∑º Ï≤¥ÌÅ¨Ïù∏/Ï≤¥ÌÅ¨ÏïÑÏõÉ
- [ ] ~~Ïπ¥Î©îÎùº Ï¥¨ÏòÅ Î∞è ÏóÖÎ°úÎìú~~ ‚Üí **ÎØ∏Íµ¨ÌòÑ**
- [x] VOC ÏûëÏÑ± Î∞è Î≥ÑÏ†ê
- [x] Ïò§ÌîÑÎùºÏù∏ Ï∫êÏã± (React Query)
- [ ] ~~FCM Ìë∏Ïãú ÏïåÎ¶º~~ ‚Üí **ÎØ∏Íµ¨ÌòÑ**

---

## üìù Agent Ïù∏Í≥Ñ ÌÖúÌîåÎ¶ø

```
=== Phase 5 ÏôÑÎ£å Î≥¥Í≥† ===

ÏôÑÎ£åÌïú ÏûëÏóÖ:
- Week 10: React Native Í∏∞Î≥∏ Íµ¨Ï°∞
- Week 11: GPS, Ïπ¥Î©îÎùº, VOC ÌïµÏã¨ Í∏∞Îä•
- Week 12: WatermelonDB Ïò§ÌîÑÎùºÏù∏, FCM ÏïåÎ¶º

ÏÉùÏÑ±Îêú Ï£ºÏöî ÌååÏùº:
1. mobile/src/context/AuthContext.tsx - Ïù∏Ï¶ù Ïª®ÌÖçÏä§Ìä∏
2. mobile/src/navigation.tsx - ÎÑ§ÎπÑÍ≤åÏù¥ÏÖò ÏÑ§Ï†ï
3. mobile/src/services/gps.service.ts - GPS ÏÑúÎπÑÏä§
4. mobile/src/services/notification.service.ts - FCM ÏÑ§Ï†ï
5. mobile/src/screens/* - Í∞ÅÏ¢Ö ÌôîÎ©¥ Ïª¥Ìè¨ÎÑåÌä∏
6. mobile/src/database/ - WatermelonDB ÏÑ§Ï†ï

ÌÖåÏä§Ìä∏ ÏôÑÎ£å:
- [x] Î°úÍ∑∏Ïù∏/Î°úÍ∑∏ÏïÑÏõÉ
- [x] GPS Ï∂úÌá¥Í∑º Ï≤¥ÌÅ¨Ïù∏
- [x] Ïπ¥Î©îÎùº Ï¥¨ÏòÅ (Í∏∞Í∏∞ Ï†ÄÏû• Ïïà Ìï®)
- [x] VOC ÏûëÏÑ±
- [x] Ïò§ÌîÑÎùºÏù∏ ÎèôÍ∏∞Ìôî
- [x] FCM Ìë∏Ïãú ÏïåÎ¶º

Ï£ºÏùòÏÇ¨Ìï≠:
- Android/iOS Í∞ÅÍ∞Å Í∂åÌïú ÏÑ§Ï†ï ÌïÑÏöî
- react-native-vision-camera ÎÑ§Ïù¥Ìã∞Î∏å ÏÑ§Ï†ï ÌïÑÏöî
- FCM ÏÑ§Ï†ï ÌååÏùº (google-services.json, GoogleService-Info.plist) ÌïÑÏöî

Îã§Ïùå Îã®Í≥Ñ:
- Phase 6 (Î∞∞Ìè¨ Î∞è ÌÖåÏä§Ìä∏) ÏßÑÌñâ
```

---

## üìä Phase 5 Ïã§Ï†ú Íµ¨ÌòÑ ÏÉÅÌÉú (2025-10-12 Í∏∞Ï§Ä)

### ‚ö†Ô∏è Ï£ºÏöî Ï∞®Ïù¥Ï†ê: Expo Í∏∞Î∞ò Í∞ÑÏÜåÌôî Íµ¨ÌòÑ

Ïã§Ï†ú Íµ¨ÌòÑÏùÄ **React Native CLI ÎåÄÏã† Expo**Î•º ÏÇ¨Ïö©ÌïòÏó¨ Ìõ®Ïî¨ Í∞ÑÏÜåÌôîÎêú ÌòïÌÉúÎ°ú Íµ¨ÌòÑÎêòÏóàÏäµÎãàÎã§.

| Ìï≠Î™© | Í∞ÄÏù¥Îìú ÏòàÏÉÅ | Ïã§Ï†ú Íµ¨ÌòÑ | Ï∞®Ïù¥Ï†ê |
|-----|----------|---------|--------|
| **ÌîÑÎ†àÏûÑÏõåÌÅ¨** | React Native CLI | **Expo** | ‚ö†Ô∏è ÏôÑÏ†ÑÌûà Îã§Î•∏ Ï†ëÍ∑º |
| **ÏÉÅÌÉú Í¥ÄÎ¶¨** | Context API | **Zustand** | ‚ö†Ô∏è Îçî Í∞ÑÎã®Ìïú ÏÉÅÌÉú Í¥ÄÎ¶¨ |
| **Ïò§ÌîÑÎùºÏù∏ DB** | WatermelonDB | **React Query + AsyncStorage** | ‚ö†Ô∏è Îçî Í∞ÑÎã®Ìïú Î∞©Ïãù |
| **GPS** | react-native-geolocation-service | **expo-location** | ‚úÖ Expo ÎÇ¥Ïû• |
| **Ïπ¥Î©îÎùº** | react-native-vision-camera | **ÎØ∏Íµ¨ÌòÑ** | ‚ùå ÏóÜÏùå |
| **Ìë∏Ïãú ÏïåÎ¶º** | FCM | **ÎØ∏Íµ¨ÌòÑ** | ‚ùå ÏóÜÏùå |
| **UI ÎùºÏù¥Î∏åÎü¨Î¶¨** | React Native Paper | **Native Components** | ‚ö†Ô∏è ÏßÅÏ†ë Ïä§ÌÉÄÏùºÎßÅ |
| **ÏßÄÎèÑ** | Kakao Maps | **react-native-maps** | ‚ö†Ô∏è Îã§Î•∏ ÎùºÏù¥Î∏åÎü¨Î¶¨ |

### üìÇ Ïã§Ï†ú ÌååÏùº Íµ¨Ï°∞ (15Í∞ú ÌååÏùº)

```
mobile/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ api/                         [4Í∞ú ÌååÏùº]
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ attendance.api.ts         ‚úÖ Ï∂úÌá¥Í∑º API
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth.api.ts               ‚úÖ Ïù∏Ï¶ù API
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ feedback.api.ts           ‚úÖ VOC API
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ site.api.ts               ‚úÖ ÏÇ¨ÏóÖÏû• API
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ components/                   [1Í∞ú ÌååÏùº]
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ NetworkBanner.tsx         ‚úÖ ÎÑ§Ìä∏ÏõåÌÅ¨ ÏÉÅÌÉú Î∞∞ÎÑà
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ navigation/                   [1Í∞ú ÌååÏùº]
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ AppNavigator.tsx          ‚úÖ ÌÉ≠ ÎÑ§ÎπÑÍ≤åÏù¥ÏÖò
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ screens/                      [4Í∞ú ÌååÏùº]
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AttendanceScreen.tsx      ‚úÖ Ï∂úÌá¥Í∑º ÌôîÎ©¥
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ FeedbackScreen.tsx        ‚úÖ VOC ÏûëÏÑ± ÌôîÎ©¥
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ HomeScreen.tsx            ‚úÖ Ìôà ÌôîÎ©¥
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ LoginScreen.tsx           ‚úÖ Î°úÍ∑∏Ïù∏ ÌôîÎ©¥
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ store/                        [1Í∞ú ÌååÏùº]
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ authStore.ts              ‚úÖ Zustand Ïù∏Ï¶ù Ïä§ÌÜ†Ïñ¥
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ types/                        [1Í∞ú ÌååÏùº]
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.ts                  ‚úÖ TypeScript ÌÉÄÏûÖ
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ utils/                        [3Í∞ú ÌååÏùº]
‚îÇ       ‚îú‚îÄ‚îÄ axios.ts                  ‚úÖ Axios ÏÑ§Ï†ï
‚îÇ       ‚îú‚îÄ‚îÄ offlineStorage.ts         ‚úÖ Ïò§ÌîÑÎùºÏù∏ Ï†ÄÏû•ÏÜå
‚îÇ       ‚îî‚îÄ‚îÄ useNetworkStatus.ts       ‚úÖ ÎÑ§Ìä∏ÏõåÌÅ¨ ÏÉÅÌÉú ÌõÖ
‚îÇ
‚îú‚îÄ‚îÄ package.json                      ‚úÖ Expo Í∏∞Î∞ò ÏùòÏ°¥ÏÑ±
‚îî‚îÄ‚îÄ app.json                          ‚úÖ Expo ÏÑ§Ï†ï
```

### ‚úÖ Íµ¨ÌòÑ ÏôÑÎ£å Í∏∞Îä•

| Í∏∞Îä• Î∂ÑÎ•ò | ÏÉÅÏÑ∏ Í∏∞Îä• | Íµ¨ÌòÑ ÏÉÅÌÉú | Ï∞∏Í≥† |
|---------|---------|----------|------|
| **Ïù∏Ï¶ù** | Î°úÍ∑∏Ïù∏/Î°úÍ∑∏ÏïÑÏõÉ | ‚úÖ ÏôÑÎ£å | LoginScreen.tsx, authStore.ts |
| | JWT ÌÜ†ÌÅ∞ Ï†ÄÏû• (AsyncStorage) | ‚úÖ ÏôÑÎ£å | authStore.ts |
| | ÏûêÎèô Î°úÍ∑∏Ïù∏ | ‚úÖ ÏôÑÎ£å | authStore.ts persist |
| **Ìôà ÌôîÎ©¥** | ÏÇ¨Ïö©Ïûê Ï†ïÎ≥¥ ÌëúÏãú | ‚úÖ ÏôÑÎ£å | HomeScreen.tsx |
| | Î∂ÄÎ¨∏Î≥Ñ Ï†ïÎ≥¥ ÌëúÏãú | ‚úÖ ÏôÑÎ£å | user.division |
| | Î°úÍ∑∏ÏïÑÏõÉ Í∏∞Îä• | ‚úÖ ÏôÑÎ£å | HomeScreen.tsx |
| **Ï∂úÌá¥Í∑º** | GPS ÏúÑÏπò Í∂åÌïú ÏöîÏ≤≠ | ‚úÖ ÏôÑÎ£å | expo-location |
| | Ï∂úÍ∑º Ï≤¥ÌÅ¨Ïù∏ | ‚úÖ ÏôÑÎ£å | AttendanceScreen.tsx |
| | Ìá¥Í∑º Ï≤¥ÌÅ¨ÏïÑÏõÉ | ‚úÖ ÏôÑÎ£å | AttendanceScreen.tsx |
| | Ïò§Îäò Ï∂úÌá¥Í∑º Í∏∞Î°ù Ï°∞Ìöå | ‚úÖ ÏôÑÎ£å | getTodayAttendance |
| | GPS Ï¢åÌëú Í∏∞Î°ù | ‚úÖ ÏôÑÎ£å | Location.getCurrentPositionAsync |
| | ÏÉÅÌÉúÎ≥Ñ UI (Ï∂úÍ∑ºÏ†Ñ/Ï∂úÍ∑º/Ìá¥Í∑º) | ‚úÖ ÏôÑÎ£å | status Í∏∞Î∞ò |
| **VOC** | VOC ÏûëÏÑ± (ÎÇ¥Ïö©) | ‚úÖ ÏôÑÎ£å | FeedbackScreen.tsx |
| | Î≥ÑÏ†ê ÏÑ†ÌÉù (1-5) | ‚úÖ ÏôÑÎ£å | Slider Ïª¥Ìè¨ÎÑåÌä∏ |
| | ÌîºÎìúÎ∞± ÌÉÄÏûÖ Íµ¨Î∂Ñ | ‚úÖ ÏôÑÎ£å | STAFF/CLIENT |
| | ÏÇ¨ÏóÖÏû• ÏÑ†ÌÉù | ‚úÖ ÏôÑÎ£å | sites Ï°∞Ìöå |
| **ÎÑ§ÎπÑÍ≤åÏù¥ÏÖò** | ÌÉ≠ ÎÑ§ÎπÑÍ≤åÏù¥ÏÖò | ‚úÖ ÏôÑÎ£å | Bottom Tabs |
| | Ïù∏Ï¶ù Í∏∞Î∞ò ÎùºÏö∞ÌåÖ | ‚úÖ ÏôÑÎ£å | Stack Navigator |
| **ÎÑ§Ìä∏ÏõåÌÅ¨** | ÎÑ§Ìä∏ÏõåÌÅ¨ ÏÉÅÌÉú Í∞êÏßÄ | ‚úÖ ÏôÑÎ£å | useNetworkStatus.ts |
| | Ïò§ÌîÑÎùºÏù∏ Î∞∞ÎÑà ÌëúÏãú | ‚úÖ ÏôÑÎ£å | NetworkBanner.tsx |
| **Ïò§ÌîÑÎùºÏù∏** | Ïò§ÌîÑÎùºÏù∏ Ïï°ÏÖò Ï†ÄÏû• | ‚úÖ ÏôÑÎ£å | offlineStorage.ts |
| | React Query Ï∫êÏã± | ‚úÖ ÏôÑÎ£å | AsyncStoragePersister |
| **API ÌÜµÏã†** | Axios Ïù∏ÌÑ∞ÏÖâÌÑ∞ (JWT) | ‚úÖ ÏôÑÎ£å | axios.ts |
| | ÌÜ†ÌÅ∞ ÎßåÎ£å Ï≤òÎ¶¨ (401) | ‚úÖ ÏôÑÎ£å | ÏûêÎèô Î°úÍ∑∏ÏïÑÏõÉ |

### ‚ùå ÎØ∏Íµ¨ÌòÑ Í∏∞Îä• (Í∞ÄÏù¥Îìú ÎåÄÎπÑ)

| Í∏∞Îä• Î∂ÑÎ•ò | ÏÉÅÏÑ∏ Í∏∞Îä• | Í∞ÄÏù¥Îìú ÏòàÏÉÅ | ÎØ∏Íµ¨ÌòÑ ÏÇ¨Ïú† |
|---------|---------|-----------|----------|
| **Ïπ¥Î©îÎùº** | ÏÇ¨ÏßÑ Ï¥¨ÏòÅ ÌôîÎ©¥ | react-native-vision-camera | ‚ùå Íµ¨ÌòÑ Ïïà Îê® |
| | ÏÇ¨ÏßÑ ÏßÅÏ†ë ÏóÖÎ°úÎìú (Í∏∞Í∏∞ Ï†ÄÏû• Ïïà Ìï®) | ‚úÖ ÏòàÏ†ï | ‚ùå Ïπ¥Î©îÎùº ÎØ∏Íµ¨ÌòÑ |
| **Ïò§ÌîÑÎùºÏù∏ DB** | WatermelonDB | Î≥µÏû°Ìïú Ïò§ÌîÑÎùºÏù∏ DB | ‚ùå React QueryÎ°ú ÎåÄÏ≤¥ |
| | ÎèôÍ∏∞Ìôî Î°úÏßÅ | sync.ts | ‚ùå Í∞ÑÏÜåÌôî |
| **Ìë∏Ïãú ÏïåÎ¶º** | FCM ÏÑ§Ï†ï | @react-native-firebase | ‚ùå Íµ¨ÌòÑ Ïïà Îê® |
| | Ìè¨Í∑∏ÎùºÏö¥Îìú ÏïåÎ¶º | ‚úÖ ÏòàÏ†ï | ‚ùå ÎØ∏Íµ¨ÌòÑ |
| | Î∞±Í∑∏ÎùºÏö¥Îìú ÏïåÎ¶º | ‚úÖ ÏòàÏ†ï | ‚ùå ÎØ∏Íµ¨ÌòÑ |
| **Ï∂îÍ∞Ä ÌôîÎ©¥** | ÏãùÎã® Ï°∞Ìöå ÌôîÎ©¥ | MenuListScreen | ‚ùå Íµ¨ÌòÑ Ïïà Îê® |
| | ÏÇ¨ÏßÑ Í∞§Îü¨Î¶¨ ÌôîÎ©¥ | PhotoGalleryScreen | ‚ùå Íµ¨ÌòÑ Ïïà Îê® |
| | VOC Î™©Î°ù ÌôîÎ©¥ | FeedbackListScreen | ‚ùå Íµ¨ÌòÑ Ïïà Îê® |
| | Í∑ºÌÉú Î™©Î°ù ÌôîÎ©¥ | AttendanceListScreen | ‚ùå Íµ¨ÌòÑ Ïïà Îê® |
| **ÏßÄÎèÑ** | Ïπ¥Ïπ¥Ïò§Îßµ Ïó∞Îèô | Kakao Maps SDK | ‚ùå react-native-maps ÏÇ¨Ïö© |

### üì¶ Ïã§Ï†ú ÏùòÏ°¥ÏÑ± (package.json)

**Ï£ºÏöî ÏùòÏ°¥ÏÑ±:**
```json
{
  "expo": "~54.0.12",                                    // Expo SDK
  "react-native": "0.81.4",                             // React Native
  "@react-navigation/bottom-tabs": "^7.4.8",            // ÌÉ≠ ÎÑ§ÎπÑÍ≤åÏù¥ÏÖò
  "@react-navigation/native": "^7.1.18",                // ÎÑ§ÎπÑÍ≤åÏù¥ÏÖò
  "@react-navigation/native-stack": "^7.3.27",          // Ïä§ÌÉù ÎÑ§ÎπÑÍ≤åÏù¥ÏÖò
  "@tanstack/react-query": "^5.90.2",                   // Îç∞Ïù¥ÌÑ∞ ÌéòÏπ≠
  "@tanstack/react-query-persist-client": "^5.90.2",    // Query ÏòÅÏÜçÌôî
  "@react-native-async-storage/async-storage": "^2.2.0", // Î°úÏª¨ Ï†ÄÏû•ÏÜå
  "@react-native-community/netinfo": "11.4.1",          // ÎÑ§Ìä∏ÏõåÌÅ¨ ÏÉÅÌÉú
  "axios": "^1.12.2",                                   // HTTP ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏
  "expo-location": "~19.0.7",                           // GPS
  "react-native-maps": "^1.26.14",                      // ÏßÄÎèÑ
  "zustand": "^5.0.8"                                   // ÏÉÅÌÉú Í¥ÄÎ¶¨
}
```

### üîç Í∞ÄÏù¥Îìú vs Ïã§Ï†ú ÎπÑÍµê

#### 1. ÌîÑÎ†àÏûÑÏõåÌÅ¨ ÏÑ†ÌÉùÏùò Ï∞®Ïù¥

**Í∞ÄÏù¥Îìú**: React Native CLI
- ÎÑ§Ïù¥Ìã∞Î∏å Î™®Îìà ÏôÑÏ†Ñ Ï†úÏñ¥
- Î≥µÏû°Ìïú ÏÑ§Ï†ï ÌïÑÏöî
- Android/iOS Î≥ÑÎèÑ ÏÑ§Ï†ï

**Ïã§Ï†ú**: Expo
- Îπ†Î•∏ Í∞úÎ∞ú ÏÜçÎèÑ
- Í∞ÑÎã®Ìïú ÏÑ§Ï†ï
- ÎßéÏùÄ Í∏∞Îä•Ïù¥ ÎÇ¥Ïû•Îê®
- ÎÑ§Ïù¥Ìã∞Î∏å Î™®Îìà Ï†úÌïúÏ†Å

#### 2. ÏÉÅÌÉú Í¥ÄÎ¶¨Ïùò Ï∞®Ïù¥

**Í∞ÄÏù¥Îìú**: Context API
- React Í∏∞Î≥∏ Ï†úÍ≥µ
- Í∞ÑÎã®Ìïú Ï†ÑÏó≠ ÏÉÅÌÉú

**Ïã§Ï†ú**: Zustand
- Îçî Í∞ÑÎã®Ìïú Î¨∏Î≤ï
- ÌÉÄÏûÖÏä§ÌÅ¨Î¶ΩÌä∏ ÏπúÌôîÏ†Å
- ÌçºÏãúÏä§Ìä∏ ÌîåÎü¨Í∑∏Ïù∏ ÎÇ¥Ïû•

#### 3. Ïò§ÌîÑÎùºÏù∏ Ï†ÑÎûµÏùò Ï∞®Ïù¥

**Í∞ÄÏù¥Îìú**: WatermelonDB
- ÏôÑÏ†ÑÌïú Î°úÏª¨ DB
- Î≥µÏû°Ìïú ÎèôÍ∏∞Ìôî
- SQLite Í∏∞Î∞ò

**Ïã§Ï†ú**: React Query + AsyncStorage
- Í∞ÑÎã®Ìïú Ï∫êÏã±
- ÏûêÎèô Î¶¨ÌéòÏπ≠
- Ïò§ÌîÑÎùºÏù∏ Ïï°ÏÖò ÌÅê

### üìà ÌÜµÍ≥Ñ

| Ìï≠Î™© | Í∞ÄÏù¥Îìú ÏòàÏÉÅ | Ïã§Ï†ú Íµ¨ÌòÑ | Îã¨ÏÑ±Î•† |
|-----|----------|---------|--------|
| **Ï¥ù ÌååÏùº Ïàò** | ~60Í∞ú | 15Í∞ú | 25% |
| **Ï¥ù ÎùºÏù∏ Ïàò** | ~10,000 | ~1,500 | 15% |
| **Ï£ºÏöî ÌôîÎ©¥** | 10Í∞ú Ïù¥ÏÉÅ | 4Í∞ú | 40% |
| **API ÌååÏùº** | 5Í∞ú | 4Í∞ú | 80% |
| **ÌïµÏã¨ Í∏∞Îä•** | 12Í∞ú | 6Í∞ú | 50% |

### üéØ Ïã§Ï†ú Íµ¨ÌòÑÏùò Ïû•Ï†ê

1. **Îπ†Î•∏ Í∞úÎ∞ú ÏÜçÎèÑ**: ExpoÎ°ú ÏÑ§Ï†ï Í∞ÑÏÜåÌôî
2. **ÏïàÏ†ïÏ†ÅÏù∏ Í∏∞Î∞ò**: Í≤ÄÏ¶ùÎêú ÎùºÏù¥Î∏åÎü¨Î¶¨ Ï°∞Ìï©
3. **ÌïµÏã¨ Í∏∞Îä• ÏßëÏ§ë**: Ï∂úÌá¥Í∑º, VOC Îì± ÌïÑÏàò Í∏∞Îä•
4. **Ïú†ÏßÄÎ≥¥Ïàò Ïö©Ïù¥**: Í∞ÑÎã®Ìïú Íµ¨Ï°∞

### ‚ö†Ô∏è ÌïúÍ≥ÑÏ†ê

1. **Ïπ¥Î©îÎùº Í∏∞Îä• ÏóÜÏùå**: Î∞∞Ïãù ÏÇ¨ÏßÑ Ï¥¨ÏòÅ Î∂àÍ∞Ä
2. **Ìë∏Ïãú ÏïåÎ¶º ÏóÜÏùå**: Ïã§ÏãúÍ∞Ñ ÏïåÎ¶º Î∂àÍ∞Ä
3. **Ïò§ÌîÑÎùºÏù∏ Ï†úÌïúÏ†Å**: Í∞ÑÎã®Ìïú Ï∫êÏã±Îßå ÏßÄÏõê
4. **ÌôîÎ©¥ Î∂ÄÏ°±**: Î™©Î°ù Ï°∞Ìöå Îì± Ï∂îÍ∞Ä ÌôîÎ©¥ ÌïÑÏöî

### üöÄ Ìñ•ÌõÑ Í∞úÏÑ† Î∞©Ìñ•

1. **Ïπ¥Î©îÎùº Ï∂îÍ∞Ä**: expo-camera ÎòêÎäî expo-image-picker ÏÇ¨Ïö©
2. **Expo Notifications**: FCM ÎåÄÏã† Expo Ìë∏Ïãú ÏïåÎ¶º ÏÇ¨Ïö©
3. **Ï∂îÍ∞Ä ÌôîÎ©¥ Íµ¨ÌòÑ**: ÏãùÎã®, ÏÇ¨ÏßÑ Í∞§Îü¨Î¶¨, VOC Î™©Î°ù
4. **ÎÑ§Ïù¥Ìã∞Î∏å Î™®Îìà**: ÌïÑÏöîÏãú Expo Bare WorkflowÎ°ú Ï†ÑÌôò

---

## üìå Îã§Ïùå Phase ÏïàÎÇ¥

**Phase 6**: Î∞∞Ìè¨ Î∞è ÌÖåÏä§Ìä∏ (1Ï£º)
- Week 13: Docker, CI/CD, GCP Cloud Run Î∞∞Ìè¨

**ÌååÏùº**: `Íµ¨ÌòÑ_Í∞ÄÏù¥Îìú_Phase6.md` Ï∞∏Ï°∞
