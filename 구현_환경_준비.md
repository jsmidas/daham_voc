# 구현 환경 준비 가이드

> **📌 목적**: Daham VOC 시스템을 개발하기 위해 필요한 모든 사전 준비사항을 안내합니다.

---

## 📋 목차
1. [개발 환경 설정](#1-개발-환경-설정)
2. [필수 계정 가입](#2-필수-계정-가입)
3. [개발 도구 설치](#3-개발-도구-설치)
4. [사전 지식 요구사항](#4-사전-지식-요구사항)
5. [비용 정보](#5-비용-정보)
6. [개발 시작 전 체크리스트](#6-개발-시작-전-체크리스트)

---

## 1. 개발 환경 설정

### 1.1 운영 체제

**권장 환경**:
- Windows 10/11
- macOS 11 이상
- Ubuntu 20.04 LTS 이상

---

### 1.2 필수 소프트웨어 설치

#### 1.2.1 Node.js (백엔드 및 프론트엔드)

**버전**: Node.js 18.x 이상 (LTS 권장)

**설치 방법**:

**Windows/macOS**:
```bash
# 공식 사이트에서 설치
https://nodejs.org/

# 또는 nvm 사용 (권장)
# Windows: https://github.com/coreybutler/nvm-windows
# macOS/Linux: https://github.com/nvm-sh/nvm

nvm install 18
nvm use 18
```

**설치 확인**:
```bash
node -v   # v18.x.x
npm -v    # 9.x.x 이상
```

---

#### 1.2.2 PostgreSQL (관계형 데이터베이스)

**버전**: PostgreSQL 15.x

**설치 방법**:

**Windows**:
```bash
# 공식 사이트에서 설치
https://www.postgresql.org/download/windows/

# 또는 Chocolatey 사용
choco install postgresql
```

**macOS**:
```bash
# Homebrew 사용
brew install postgresql@15
brew services start postgresql@15
```

**Ubuntu**:
```bash
sudo apt update
sudo apt install postgresql-15 postgresql-contrib
sudo systemctl start postgresql
```

**설치 확인**:
```bash
psql --version  # psql (PostgreSQL) 15.x
```

**초기 설정**:
```bash
# PostgreSQL 접속
psql -U postgres

# 데이터베이스 생성
CREATE DATABASE daham_voc;

# 사용자 생성
CREATE USER daham WITH PASSWORD 'your_password';

# 권한 부여
GRANT ALL PRIVILEGES ON DATABASE daham_voc TO daham;
```

---

#### 1.2.3 MongoDB (이미지 메타데이터 저장)

**버전**: MongoDB 6.x

**설치 방법**:

**Windows**:
```bash
# 공식 사이트에서 설치
https://www.mongodb.com/try/download/community

# 또는 Chocolatey
choco install mongodb
```

**macOS**:
```bash
brew tap mongodb/brew
brew install mongodb-community@6.0
brew services start mongodb-community@6.0
```

**Ubuntu**:
```bash
# MongoDB 공식 저장소 추가
wget -qO - https://www.mongodb.org/static/pgp/server-6.0.asc | sudo apt-key add -
echo "deb [ arch=amd64,arm64 ] https://repo.mongodb.org/apt/ubuntu focal/mongodb-org/6.0 multiverse" | sudo tee /etc/apt/sources.list.d/mongodb-org-6.0.list

sudo apt update
sudo apt install -y mongodb-org
sudo systemctl start mongod
```

**설치 확인**:
```bash
mongosh --version  # 1.x.x
```

---

#### 1.2.4 Redis (캐싱)

**버전**: Redis 7.x

**설치 방법**:

**Windows**:
```bash
# WSL2 사용 권장
wsl --install
# WSL2 내에서 Redis 설치

# 또는 Memurai (Redis Windows 포트)
https://www.memurai.com/
```

**macOS**:
```bash
brew install redis
brew services start redis
```

**Ubuntu**:
```bash
sudo apt update
sudo apt install redis-server
sudo systemctl start redis-server
```

**설치 확인**:
```bash
redis-cli --version  # redis-cli 7.x.x
redis-cli ping       # PONG
```

---

#### 1.2.5 Git (버전 관리)

**버전**: Git 2.x 이상

**설치 방법**:

**Windows**:
```bash
# 공식 사이트
https://git-scm.com/download/win

# 또는 Chocolatey
choco install git
```

**macOS**:
```bash
brew install git
```

**Ubuntu**:
```bash
sudo apt install git
```

**설치 확인**:
```bash
git --version  # git version 2.x.x
```

**Git 초기 설정**:
```bash
git config --global user.name "Your Name"
git config --global user.email "your.email@example.com"
```

---

#### 1.2.6 Docker (배포용)

**버전**: Docker 20.x 이상

**설치 방법**:

**Windows/macOS**:
```bash
# Docker Desktop 설치
https://www.docker.com/products/docker-desktop
```

**Ubuntu**:
```bash
# Docker Engine 설치
sudo apt update
sudo apt install apt-transport-https ca-certificates curl software-properties-common
curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg
echo "deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable" | sudo tee /etc/apt/sources.list.d/docker.list > /dev/null
sudo apt update
sudo apt install docker-ce docker-ce-cli containerd.io docker-compose-plugin
```

**설치 확인**:
```bash
docker --version         # Docker version 20.x.x
docker compose version   # Docker Compose version v2.x.x
```

---

## 2. 필수 계정 가입

### 2.1 Google Cloud Platform (GCP)

**용도**:
- Cloud Storage (이미지 저장)
- Cloud Run (백엔드 배포)
- Secret Manager (환경 변수 관리)

**가입 절차**:
1. https://console.cloud.google.com/ 접속
2. Google 계정으로 로그인
3. 무료 체험판 활성화 ($300 크레딧 제공)
4. 프로젝트 생성

**비용**:
- 무료 체험판: $300 크레딧 (90일)
- 이후 종량제 (실제 사용량 기준)

**초기 설정**:
```bash
# gcloud CLI 설치
https://cloud.google.com/sdk/docs/install

# 인증
gcloud auth login

# 프로젝트 설정
gcloud config set project YOUR_PROJECT_ID

# 필요한 API 활성화
gcloud services enable storage.googleapis.com
gcloud services enable run.googleapis.com
gcloud services enable secretmanager.googleapis.com
```

**서비스 계정 생성**:
1. GCP Console → IAM 및 관리자 → 서비스 계정
2. "서비스 계정 만들기" 클릭
3. 역할: Storage Admin, Cloud Run Admin
4. 키 생성 (JSON) → 파일 다운로드
5. 키 파일을 `backend/config/gcp-service-account-key.json`에 저장

---

### 2.2 Kakao Developers (카카오맵 API)

**용도**:
- 지도 표시 (웹, 모바일)
- GPS 좌표 시각화

**가입 절차**:
1. https://developers.kakao.com/ 접속
2. 카카오 계정으로 로그인
3. "내 애플리케이션" → "애플리케이션 추가하기"
4. 앱 이름: "Daham VOC"
5. JavaScript 키 발급
6. 플랫폼 추가 → Web, Android, iOS

**비용**: 무료 (일 300,000건 한도)

**키 확인**:
- JavaScript 키: 웹에서 사용
- REST API 키: 모바일에서 사용

**Web 플랫폼 설정**:
- 사이트 도메인 등록: `http://localhost:5173` (개발용)

**Android 플랫폼 설정**:
- 패키지명: `com.dahamvoc.mobile`
- 키 해시 등록

**iOS 플랫폼 설정**:
- 번들 ID: `com.dahamvoc.mobile`

---

### 2.3 GitHub (코드 저장소 및 CI/CD)

**용도**:
- 소스 코드 버전 관리
- GitHub Actions (CI/CD 자동화)

**가입 절차**:
1. https://github.com/ 접속
2. "Sign up" 클릭
3. 무료 계정 생성

**비용**:
- 무료 (Public 저장소)
- GitHub Actions: 2,000분/월 무료

**저장소 생성**:
```bash
# GitHub에서 새 저장소 생성
# Repository name: daham-voc

# 로컬에서 초기화
git init
git remote add origin https://github.com/YOUR_USERNAME/daham-voc.git
git add .
git commit -m "Initial commit"
git push -u origin main
```

**Secrets 설정** (CI/CD용):
1. GitHub 저장소 → Settings → Secrets and variables → Actions
2. 다음 Secrets 추가:
   - `GCP_PROJECT_ID`: GCP 프로젝트 ID
   - `GCP_SA_KEY`: 서비스 계정 키 (JSON 전체 내용)
   - `VITE_API_BASE_URL`: API 기본 URL

---

### 2.4 Firebase (모바일 푸시 알림)

**용도**: FCM (Firebase Cloud Messaging) 푸시 알림

**가입 절차**:
1. https://console.firebase.google.com/ 접속
2. "프로젝트 추가" 클릭
3. GCP 프로젝트 연결 (선택)
4. Android 앱 추가 → 패키지명 입력
5. iOS 앱 추가 → 번들 ID 입력
6. `google-services.json` (Android) 다운로드
7. `GoogleService-Info.plist` (iOS) 다운로드

**비용**: 무료

**초기 설정**:
- Cloud Messaging API 활성화
- 서버 키 복사 (백엔드에서 사용)

---

### 2.5 Sentry (에러 모니터링) - 선택사항

**용도**: 프로덕션 에러 추적 및 성능 모니터링

**가입 절차**:
1. https://sentry.io/ 접속
2. "Start Free" 클릭
3. 프로젝트 생성: Node.js, React, React Native
4. DSN 키 복사

**비용**:
- 무료: 5,000 이벤트/월
- 유료: $26/월 (50,000 이벤트)

---

## 3. 개발 도구 설치

### 3.1 코드 에디터

**권장**: Visual Studio Code

**설치**:
```bash
https://code.visualstudio.com/

# 또는 Chocolatey (Windows)
choco install vscode

# Homebrew (macOS)
brew install --cask visual-studio-code
```

**필수 Extensions**:
- ESLint
- Prettier - Code formatter
- Prisma
- GitLens
- Docker
- Thunder Client (API 테스트)
- Korean Language Pack

**설정 추천**:
```json
// settings.json
{
  "editor.formatOnSave": true,
  "editor.defaultFormatter": "esbenp.prettier-vscode",
  "editor.codeActionsOnSave": {
    "source.fixAll.eslint": true
  }
}
```

---

### 3.2 API 테스트 도구

**옵션 1**: Postman
```bash
https://www.postman.com/downloads/
```

**옵션 2**: Insomnia
```bash
https://insomnia.rest/download
```

**옵션 3**: Thunder Client (VS Code Extension) - 권장

---

### 3.3 데이터베이스 GUI 도구

**PostgreSQL**:
- **pgAdmin 4**: https://www.pgadmin.org/
- **DBeaver**: https://dbeaver.io/ (권장)
- **TablePlus**: https://tableplus.com/

**MongoDB**:
- **MongoDB Compass**: https://www.mongodb.com/products/compass
- **Studio 3T**: https://studio3t.com/ (상용)

**Redis**:
- **RedisInsight**: https://redis.com/redis-enterprise/redis-insight/

---

### 3.4 모바일 개발 환경

#### Android 개발

**Android Studio 설치**:
```bash
https://developer.android.com/studio
```

**필수 설치 항목**:
- Android SDK
- Android SDK Platform-Tools
- Android Emulator
- JDK 11

**환경 변수 설정** (Windows):
```bash
ANDROID_HOME=C:\Users\YourName\AppData\Local\Android\Sdk
Path=%Path%;%ANDROID_HOME%\platform-tools;%ANDROID_HOME%\tools
```

**환경 변수 설정** (macOS/Linux):
```bash
# ~/.bashrc or ~/.zshrc
export ANDROID_HOME=$HOME/Library/Android/sdk
export PATH=$PATH:$ANDROID_HOME/emulator
export PATH=$PATH:$ANDROID_HOME/platform-tools
```

---

#### iOS 개발 (macOS만 가능)

**Xcode 설치**:
```bash
# App Store에서 Xcode 설치
# 또는
xcode-select --install
```

**CocoaPods 설치**:
```bash
sudo gem install cocoapods
```

---

### 3.5 터미널 도구

**Windows**:
- **Windows Terminal**: Microsoft Store에서 설치 (권장)
- **Git Bash**: Git 설치 시 포함

**macOS**:
- 기본 Terminal 또는 iTerm2

**Linux**:
- 기본 Terminal

---

## 4. 사전 지식 요구사항

### 4.1 필수 지식

| 분야 | 필수 수준 | 학습 리소스 |
|------|-----------|------------|
| **JavaScript/TypeScript** | 중급 이상 | MDN, TypeScript Handbook |
| **Node.js + Express** | 중급 | Node.js 공식 문서 |
| **React** | 중급 | React 공식 문서 |
| **SQL (PostgreSQL)** | 초급 | PostgreSQL Tutorial |
| **Git** | 초급 | Git 공식 문서 |
| **RESTful API** | 중급 | REST API 개념 |

---

### 4.2 권장 지식

| 분야 | 권장 수준 | 비고 |
|------|-----------|------|
| **Prisma ORM** | 초급 | 가이드에 포함됨 |
| **React Native** | 초급 | 모바일 앱 개발 시 |
| **Docker** | 초급 | 배포 시 |
| **GCP** | 초급 | Cloud Run 배포 시 |

---

### 4.3 학습 순서 (신규 개발자용)

**1주차**: JavaScript/TypeScript 기초
**2주차**: Node.js + Express 기초
**3주차**: React 기초
**4주차**: 데이터베이스 (SQL) 기초
**5주차**: 실제 프로젝트 시작

---

## 5. 비용 정보

### 5.1 개발 단계 비용 (무료 또는 최소)

| 항목 | 월 비용 | 비고 |
|------|---------|------|
| **개발 도구** | 무료 | VS Code, Git 등 |
| **로컬 DB** | 무료 | PostgreSQL, MongoDB, Redis |
| **GCP (무료 체험)** | 무료 | $300 크레딧 (90일) |
| **Kakao 지도 API** | 무료 | 일 300,000건 한도 |
| **GitHub** | 무료 | Public 저장소 |
| **Firebase FCM** | 무료 | 무제한 |
| **합계** | **$0** | 무료 체험 기간 |

---

### 5.2 프로덕션 단계 예상 비용 (월)

**사업장 500개 기준**:

| 항목 | 월 예상 비용 | 비고 |
|------|-------------|------|
| **GCP Cloud Run** | $50-100 | 백엔드 서버 |
| **GCP Cloud Storage** | $20-50 | 이미지 저장 (100GB 기준) |
| **GCP Cloud SQL (PostgreSQL)** | $100-150 | 관리형 DB |
| **GCP Secret Manager** | $5 | 환경 변수 |
| **Sentry** (선택) | $26 | 에러 모니터링 |
| **도메인** | $10-15/년 | 선택 사항 |
| **SSL 인증서** | 무료 | Let's Encrypt |
| **합계** | **$200-350/월** | 트래픽에 따라 변동 |

**비용 절감 방법**:
1. 로컬 서버 운영 (클라우드 비용 $0)
2. 무료 티어 최대 활용
3. 이미지 압축으로 Storage 비용 절감
4. GCP 대신 AWS/Azure 무료 티어 활용

---

### 5.3 자체 서버 운영 시 (On-Premise)

**초기 비용**:
- 서버 PC: $500-1,000 (중고 가능)
- 고정 IP: $10-30/월
- 전기세: $20-50/월

**월 비용**: $30-80

---

## 6. 개발 시작 전 체크리스트

### 6.1 소프트웨어 설치 확인

```bash
# 모든 명령어 실행 후 버전 확인
node -v          # v18.x.x 이상
npm -v           # 9.x.x 이상
git --version    # 2.x.x 이상
psql --version   # 15.x
mongosh --version # 1.x.x
redis-cli --version # 7.x.x
docker --version # 20.x.x 이상
```

**체크리스트**:
- [ ] Node.js 18.x 설치됨
- [ ] PostgreSQL 15 설치 및 실행 중
- [ ] MongoDB 6 설치 및 실행 중
- [ ] Redis 7 설치 및 실행 중
- [ ] Git 설치됨
- [ ] Docker 설치됨
- [ ] VS Code 설치됨

---

### 6.2 계정 준비 확인

**체크리스트**:
- [ ] GCP 계정 생성 및 프로젝트 생성
- [ ] GCP 서비스 계정 키 다운로드
- [ ] Kakao Developers 앱 생성
- [ ] Kakao JavaScript 키 발급
- [ ] GitHub 계정 생성
- [ ] GitHub 저장소 생성
- [ ] Firebase 프로젝트 생성 (모바일 앱 시)
- [ ] Firebase `google-services.json` 다운로드 (Android)
- [ ] Firebase `GoogleService-Info.plist` 다운로드 (iOS)

---

### 6.3 환경 변수 준비

**필수 환경 변수**:

```env
# Backend (.env)
NODE_ENV=development
PORT=3000

# Database
DATABASE_URL=postgresql://daham:password@localhost:5432/daham_voc
MONGODB_URI=mongodb://localhost:27017/daham_voc
REDIS_URL=redis://localhost:6379

# JWT
JWT_SECRET=your_jwt_secret_key_here
JWT_EXPIRES_IN=7d

# GCP
GCP_PROJECT_ID=your-project-id
GCP_BUCKET_NAME=daham-voc-images
GCP_KEY_FILE=./config/gcp-service-account-key.json

# Image
MAX_IMAGE_SIZE=10485760
ALLOWED_IMAGE_TYPES=image/jpeg,image/png,image/webp
```

```env
# Web (.env)
VITE_API_BASE_URL=http://localhost:3000/api
VITE_KAKAO_MAP_APP_KEY=your_kakao_javascript_key
```

```env
# Mobile (.env)
API_BASE_URL=http://localhost:3000/api
KAKAO_MAP_APP_KEY=your_kakao_rest_api_key
```

**체크리스트**:
- [ ] 모든 환경 변수 값 준비
- [ ] `.env.example` 파일 생성
- [ ] `.gitignore`에 `.env` 추가

---

### 6.4 네트워크 설정

**로컬 개발**:
- [ ] 방화벽에서 포트 허용 (3000, 5173, 8081)
- [ ] localhost에서 접근 가능 확인

**모바일 앱 개발 시**:
- [ ] PC와 모바일 기기가 같은 Wi-Fi에 연결
- [ ] PC의 로컬 IP 확인 (`ipconfig` 또는 `ifconfig`)
- [ ] 모바일 앱 API URL을 `http://[PC_IP]:3000/api`로 설정

---

### 6.5 디렉토리 구조 준비

```bash
# 프로젝트 루트 생성
mkdir daham-voc
cd daham-voc

# Git 초기화
git init

# 폴더 생성
mkdir backend
mkdir web
mkdir mobile

# .gitignore 생성
cat > .gitignore << EOF
node_modules/
.env
.DS_Store
dist/
build/
*.log
.vscode/
gcp-service-account-key.json
google-services.json
GoogleService-Info.plist
EOF
```

**체크리스트**:
- [ ] 프로젝트 루트 폴더 생성
- [ ] Git 초기화
- [ ] `.gitignore` 작성
- [ ] `README.md` 작성

---

## 7. 개발 시작 순서

### 단계별 가이드

**1. 환경 준비** (1일)
- [ ] 모든 소프트웨어 설치
- [ ] 계정 생성 및 키 발급
- [ ] 체크리스트 완료

**2. Phase 1 시작** (2주)
- [ ] `구현_가이드_Phase1.md` 읽기
- [ ] 백엔드 프로젝트 초기화
- [ ] 데이터베이스 연결 확인
- [ ] 인증 시스템 구현

**3. Phase 2-6 진행** (10-11주)
- [ ] 각 Phase별 가이드 순서대로 진행
- [ ] 각 Task 완료 후 체크리스트 확인

**4. 배포** (1주)
- [ ] Docker 이미지 빌드
- [ ] GCP Cloud Run 배포
- [ ] 도메인 연결 (선택)

---

## 8. 트러블슈팅

### 8.1 자주 발생하는 문제

**문제 1**: PostgreSQL 접속 오류
```
Error: ECONNREFUSED 127.0.0.1:5432
```
**해결**:
```bash
# Windows
net start postgresql-x64-15

# macOS
brew services start postgresql@15

# Ubuntu
sudo systemctl start postgresql
```

---

**문제 2**: MongoDB 접속 오류
```
MongoServerError: Authentication failed
```
**해결**:
```bash
# MongoDB 인증 없이 시작 (개발용)
# mongod.conf에서 security 섹션 주석 처리

# 또는 환경 변수에서 인증 정보 제거
MONGODB_URI=mongodb://localhost:27017/daham_voc
```

---

**문제 3**: React Native 앱이 Metro Bundler에 연결 안 됨
```
Error: Unable to resolve module...
```
**해결**:
```bash
# 캐시 삭제 후 재시작
cd mobile
rm -rf node_modules
npm install
npx react-native start --reset-cache
```

---

**문제 4**: GCP 인증 오류
```
Error: Could not load the default credentials
```
**해결**:
```bash
# 환경 변수 설정
export GOOGLE_APPLICATION_CREDENTIALS="/path/to/service-account-key.json"

# 또는 gcloud로 인증
gcloud auth application-default login
```

---

## 9. 추가 리소스

### 9.1 공식 문서

| 기술 | 문서 URL |
|------|----------|
| Node.js | https://nodejs.org/docs/ |
| TypeScript | https://www.typescriptlang.org/docs/ |
| React | https://react.dev/ |
| React Native | https://reactnative.dev/docs/getting-started |
| Prisma | https://www.prisma.io/docs/ |
| Express | https://expressjs.com/ |
| PostgreSQL | https://www.postgresql.org/docs/ |
| MongoDB | https://www.mongodb.com/docs/ |
| Redis | https://redis.io/docs/ |
| Ant Design | https://ant.design/docs/react/introduce |
| React Native Paper | https://reactnativepaper.com/ |
| GCP | https://cloud.google.com/docs |
| Kakao Maps | https://apis.map.kakao.com/web/guide/ |

---

### 9.2 학습 리소스

**무료 강의**:
- [Node.js 기초] YouTube - 생활코딩
- [React 기초] React 공식 튜토리얼
- [TypeScript 기초] TypeScript Handbook
- [React Native] React Native 공식 문서

**유료 강의** (선택):
- Udemy - Node.js 완벽 가이드
- Inflearn - React 완벽 가이드
- Udemy - React Native 실전 프로젝트

---

### 9.3 커뮤니티

- **Stack Overflow**: https://stackoverflow.com/
- **Reddit - r/node**: https://www.reddit.com/r/node/
- **Reddit - r/reactjs**: https://www.reddit.com/r/reactjs/
- **한국 개발자 커뮤니티**:
  - 생활코딩
  - 인프런 Q&A
  - 개발자 디스코드

---

## 10. 연락처 및 지원

**문제 발생 시**:
1. 구현 가이드 문서 재확인
2. 공식 문서 검색
3. Stack Overflow 검색
4. GitHub Issues 등록

---

## 📝 최종 체크리스트

### 개발 시작 전 필수 확인

**소프트웨어** (모두 설치 및 실행):
- [ ] Node.js 18.x
- [ ] PostgreSQL 15
- [ ] MongoDB 6
- [ ] Redis 7
- [ ] Git
- [ ] Docker
- [ ] VS Code

**계정** (모두 생성 및 키 발급):
- [ ] GCP 계정 + 프로젝트 + 서비스 계정 키
- [ ] Kakao Developers 앱 + JavaScript 키
- [ ] GitHub 계정 + 저장소
- [ ] Firebase 프로젝트 (모바일 앱 시)

**환경 변수** (모두 준비):
- [ ] Backend `.env` 파일 작성
- [ ] Web `.env` 파일 작성
- [ ] Mobile `.env` 파일 작성 (모바일 앱 시)

**비용**:
- [ ] 개발 단계: $0 (무료 체험 활용)
- [ ] 프로덕션 단계: $200-350/월 예상 (또는 자체 서버)

**준비 완료 시**: ✅ **Phase 1 구현 시작!**

---

**🎉 모든 준비가 완료되었습니다!**

이제 `구현_가이드_Phase1.md`를 열어서 개발을 시작하세요!
